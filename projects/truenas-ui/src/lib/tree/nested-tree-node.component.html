<div class="tn-nested-tree-node__content">
  <!-- Toggle button for expandable nodes (provided by component) -->
  @if (isExpandable) {
    <button
      class="tn-nested-tree-node__toggle"
      cdkTreeNodeToggle
      type="button"
      [class.ix-nested-tree-node__toggle--expanded]="isExpanded"
      [attr.aria-label]="'Toggle node'">
      <tn-icon
        library="mdi"
        size="sm"
        style="transition: transform 0.2s ease;"
        [name]="isExpanded ? 'chevron-down' : 'chevron-right'" />
    </button>
  }

  <!-- Spacer for non-expandable nodes to maintain alignment -->
  @if (!isExpandable) {
    <div class="tn-nested-tree-node__spacer"></div>
  }

  <!-- Consumer content -->
  <ng-content />
</div>

<!-- Children container -->
@if (isExpandable) {
  <div class="tn-nested-tree-node-container" role="group" [class.ix-tree-invisible]="!isExpanded">
    <ng-content select="[slot=children]" />
  </div>
}